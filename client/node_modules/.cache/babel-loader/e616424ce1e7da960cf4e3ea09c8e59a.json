{"remainingRequest":"C:\\Users\\web\\Desktop\\12233\\team-work\\team work\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\12233\\team-work\\team work\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\web\\Desktop\\12233\\team-work\\team work\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\12233\\team-work\\team work\\client\\src\\components\\Index\\index02\\reserve.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\12233\\team-work\\team work\\client\\src\\components\\Index\\index02\\reserve.vue","mtime":1569573444034},{"path":"C:\\Users\\web\\Desktop\\12233\\team-work\\team work\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\12233\\team-work\\team work\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\12233\\team-work\\team work\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\12233\\team-work\\team work\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Calendar from 'vue-calendar-component';\nexport default {\n  data: function data() {\n    return {\n      slots: [{\n        flex: 1,\n        values: ['1人', '2人', '3人', '4人', '5人', '6人', '7人', '8人', '9人', '10人'],\n        className: 'slot1',\n        textAlign: 'center'\n      }],\n      num: \"请选择\",\n      time: \"请选择\",\n      show: false,\n      value1: false,\n      selected: [\"\"],\n      options: [\"没有包房可接受大厅\"],\n      username: \"\",\n      value2: \"\",\n      phone: \"\",\n      calshow: false,\n      ago: \"\",\n      future: \"\",\n      list: []\n    };\n  },\n  components: {\n    Calendar: Calendar\n  },\n  methods: {\n    linkTo: function linkTo() {\n      this.$router.push(\"/demand\");\n    },\n    linkTo2: function linkTo2() {\n      this.$router.push(\"/shopList\");\n    },\n    linkTo3: function linkTo3() {\n      var _this = this;\n\n      // 传递数据给后台\n      var time;\n      var hall;\n      var num;\n      var room;\n      var sex;\n      var name = this.username;\n      var phone = this.phone;\n\n      if (this.num == \"请选择\") {\n        num = null; // this.$toast(\"请选择就餐人数\")\n      } else {\n        num = this.num + \"人\";\n      }\n\n      if (this.time == \"请选择\") {\n        time = null;\n      } else {\n        time = this.time;\n      }\n\n      if (this.value1 == false) {\n        room = 0;\n      } else {\n        room = this.value1;\n      }\n\n      if (this.selected == null) {\n        hall = \"不接受大厅\";\n      } else {\n        hall = this.selected;\n      }\n\n      if (this.value2 == \"\") {\n        sex = null;\n      } else {\n        sex = this.value2;\n      }\n\n      var getmsg = this.$store.getters.getMsg;\n\n      if (getmsg == \"\") {\n        var demand = null;\n      } else {\n        var demand = getmsg;\n      }\n\n      phone = this.list.U_LoginID;\n      name = this.list.U_Name;\n      var uid = sessionStorage.getItem(\"accessToken\");\n      var M_Name = this.$route.params.M_Name;\n      var M_Distance = this.$route.params.M_Distance; // (NULL,'${time}','${num}',${room},'${hall}','${R_Name}',${R_Phone},'${sex}','${demand}'\n\n      var obj = {\n        time: time,\n        num: num,\n        room: room,\n        hall: hall,\n        name: name,\n        phone: phone,\n        sex: sex,\n        demand: demand,\n        uid: uid,\n        M_Name: M_Name,\n        M_Distance: M_Distance\n      };\n\n      if (num !== null && time !== null) {\n        this.axios.get(\"/index/reserve\", {\n          params: obj\n        }).then(function (res) {\n          if (res.data.code == 1) {\n            _this.$messagebox(\"预订成功\").then(function (res) {\n              _this.$router.push(\"/yuding\");\n            });\n          } else if (res.data.code == 2) {\n            _this.$messagebox(\"不可重复预订\").then(function (res) {\n              _this.$router.push(\"/yuding\");\n            });\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      } else if (time == null) {\n        this.$toast(\"请选择就餐时间\");\n      } else if (num == null) {\n        this.$toast(\"请选择就餐人数\");\n      }\n    },\n    clickDay: function clickDay() {},\n    changeDate: function changeDate() {},\n    clickToday: function clickToday() {},\n    close: function close() {\n      this.show = false;\n    },\n    closeCal: function closeCal() {\n      this.calshow = false;\n    },\n    sure: function sure() {\n      this.calshow = false;\n      var chosenDay = document.getElementsByClassName(\"wh_chose_day\")[0];\n\n      if (chosenDay != null) {\n        chosenDay = chosenDay.innerHTML;\n        var date = document.getElementsByClassName(\"wh_content_li\")[0].innerHTML;\n        var year = date.slice(0, 4);\n\n        if (date.length == 7) {\n          var day = date.slice(5, 6);\n        } else if (date.length > 7) {\n          var day = date.slice(5, 7);\n        }\n\n        this.time = year + \"-\" + day + \"-\" + chosenDay;\n      } else {\n        this.time = \"请选择\";\n      }\n    },\n    confirm: function confirm() {\n      var selected = document.getElementsByClassName(\"picker-selected\")[0];\n      var greySel = document.getElementsByClassName(\"greySel\")[0];\n      this.num = selected.innerHTML;\n      greySel.style.color = \"#000\";\n      this.show = false;\n    },\n    choose: function choose() {\n      this.show = true;\n      this.calshow = false;\n    },\n    chooseTime: function chooseTime() {\n      this.calshow = true;\n      this.show = false; // var today=document.querySelector(\".wh_content_item .wh_isToday[data-v-2ebcbc83]\");\n      // today.innerHTML=\"今\";\n    },\n    onValuesChange: function onValuesChange(picker, values) {\n      if (values[0] > values[1]) {\n        picker.setSlotValue(1, values[0]);\n      }\n    },\n    loadMore: function loadMore() {\n      var _this2 = this;\n\n      this.$messagebox(\"温馨提示\", \"各位捞粉大家好，每日早上7:00-9:00是我们闭店打扫时间，擦亮桌椅迎接您的到来，期间无法为您提供用餐服务，感谢您的谅解与支持。\"); // 预定时间\n\n      var start = Date.parse(new Date());\n      start = start / 1000;\n      start = start.toString();\n      var end = Date.parse(new Date());\n      var addtime = 20 * 24 * 60 * 60 * 1000;\n      end = parseInt(end) + parseInt(addtime);\n      end = end / 1000;\n      end = end.toString();\n      this.ago = start;\n      this.future = end; // getUser\n\n      var uid = sessionStorage.getItem(\"accessToken\");\n      var obj = {\n        uid: uid\n      };\n      var url = 'user/getUser2';\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        if (res.data.code == 1) {\n          _this2.list = res.data.data[0];\n          console.log(_this2.list);\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.loadMore();\n  }\n};",{"version":3,"sources":["reserve.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"reserve\">\r\n        <!-- 头部 -->\r\n        <div class=\"top\">\r\n            <img @click=\"linkTo2\" src=\"http://127.0.0.1:5050/icon/arrow-left.png\">\r\n            <p>预订</p>\r\n        </div>\r\n        <!-- banner -->\r\n        <img class=\"banner\" src=\"http://127.0.0.1:5050/icon/reserve-banner.png\">\r\n        <!-- 主体 -->\r\n        <div class=\"confirm\">\r\n            <div class=\"select-box\">\r\n                <div class=\"select\">\r\n                    <p>就餐时间</p>\r\n                    <p @click=\"chooseTime\">{{time}}<img src=\"http://127.0.0.1:5050/icon/arrow-right.png\"></p>\r\n                </div>\r\n            </div>\r\n            <div class=\"select-box\">\r\n                <div class=\"select\">\r\n                    <p>就餐人数</p>\r\n                    <p class=\"greySel\" @click=\"choose\">{{num}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"select-box\">\r\n                <div class=\"select\">\r\n                    <p>我要订包房</p>\r\n                    <mt-switch v-model=\"value1\"></mt-switch>\r\n                </div>\r\n            </div>\r\n            <mt-checklist\r\n            align=\"left\"\r\n            v-model=\"selected\"\r\n            :options=\"options\"\r\n            v-show=\"value1\">\r\n            </mt-checklist>\r\n        </div>\r\n        <div class=\"confirm\">\r\n            <div class=\"verify-box\">\r\n                <div class=\"verify\">\r\n                    <mt-field label=\"姓名：\" :placeholder=\"list.U_Name\" v-model=\"username\" readonly></mt-field>\r\n                    <mt-radio\r\n                    v-model=\"value2\"\r\n                    :options=\"['先生', '女士']\">\r\n                    </mt-radio>\r\n                </div>\r\n            </div>\r\n             <div class=\"verify-box\">\r\n                <div class=\"verify\">\r\n                    <mt-field label=\"手机号：\" :placeholder=\"list.U_LoginID\" v-model=\"phone\" readonly></mt-field>\r\n                </div>\r\n            </div>\r\n            <div class=\"verify-box\">\r\n                <div class=\"verify\" @click=\"linkTo\">\r\n                    <p>特殊需求</p> \r\n                    <img src=\"http://127.0.0.1:5050/icon/arrow-right.png\"> \r\n                </div>\r\n            </div>\r\n            <div class=\"msgbox\">\r\n                <p class=\"getMsg\">{{$store.getters.getMsg}}</p>\r\n            </div>\r\n            <div class=\"submit-box\">\r\n            <div class=\"submit\">\r\n                <p>*提交订单后需要等待餐厅确认</p>\r\n                <button @click=\"linkTo3\">立即预订</button>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        <!-- 选择人数 -->\r\n         <transition name=\"pull-up\">\r\n            <div class=\"confirm-box\"  v-show=\"show\">\r\n                <div class=\"confirm\">\r\n                    <span @click=\"close\">取消</span>\r\n                    <span>就餐人数</span>\r\n                    <span @click=\"confirm\">确定</span>\r\n                </div>\r\n                <mt-picker :slots=\"slots\" @change=\"onValuesChange\"></mt-picker>\r\n            </div>\r\n        </transition>\r\n        <!-- 日历 -->\r\n        <transition name=\"pull-up\">\r\n            <div class=\"calbox\" v-show=\"calshow\">\r\n                <div class=\"confirmCal\">\r\n                    <span @click=\"closeCal\">取消</span>\r\n                    <span>日历</span>\r\n                    <span @click=\"sure\">确定</span>\r\n                </div>\r\n                <Calendar :choseDay=\"clickDay\" :changeMonth=\"changeDate\" :isToday=\"clickToday\" class=\"calendar\" :agoDayHide=\"ago\" :futureDayHide=\"future\"></Calendar>\r\n            </div>\r\n        </transition>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Calendar from 'vue-calendar-component';\r\nexport default {\r\n    data(){\r\n        return{\r\n            slots: [\r\n                {\r\n                flex: 1,\r\n                values: ['1人', '2人', '3人', '4人', '5人', '6人','7人','8人','9人','10人'],\r\n                className: 'slot1',\r\n                textAlign: 'center'\r\n                }, \r\n            ],\r\n            num:\"请选择\",\r\n            time:\"请选择\",\r\n            show:false,\r\n            value1:false,\r\n            selected:[\"\"],\r\n            options:[\"没有包房可接受大厅\"],\r\n            username:\"\",\r\n            value2:\"\",\r\n            phone:\"\",\r\n            calshow:false,\r\n            ago:\"\",\r\n            future:\"\",\r\n            list:[]\r\n        }\r\n    },\r\n    components: {\r\n        Calendar\r\n    },\r\n    methods:{\r\n        linkTo(){\r\n            this.$router.push(\"/demand\");\r\n        },\r\n        linkTo2(){\r\n            this.$router.push(\"/shopList\");\r\n        },\r\n        linkTo3(){\r\n             // 传递数据给后台\r\n            var time;\r\n            var hall;\r\n            var num;\r\n            var room;\r\n            var sex;\r\n            var name=this.username;\r\n            var phone=this.phone;\r\n\r\n\r\n            if(this.num==\"请选择\"){\r\n                num=null;\r\n                // this.$toast(\"请选择就餐人数\")\r\n            }else{\r\n                num=this.num+\"人\";\r\n            }\r\n\r\n            \r\n            if(this.time==\"请选择\"){\r\n                time=null;\r\n            }else{\r\n                time=this.time;\r\n            }\r\n\r\n            if(this.value1==false){\r\n                room=0;\r\n            }else{\r\n                room=this.value1;\r\n            }\r\n\r\n            if(this.selected==null){\r\n                hall=\"不接受大厅\";\r\n            }else{\r\n                hall=this.selected;\r\n            }\r\n            \r\n            if(this.value2==\"\"){\r\n                sex=null;\r\n            }else{\r\n                sex=this.value2;\r\n            }\r\n\r\n            var getmsg=this.$store.getters.getMsg;\r\n            if(getmsg==\"\"){\r\n                var demand=null;\r\n            }else{\r\n                var demand=getmsg;\r\n            }\r\n            \r\n            phone=this.list.U_LoginID;\r\n            name=this.list.U_Name;\r\n            var uid = sessionStorage.getItem(\"accessToken\");\r\n            var M_Name=this.$route.params.M_Name;\r\n            var M_Distance=this.$route.params.M_Distance;\r\n\r\n\r\n            // (NULL,'${time}','${num}',${room},'${hall}','${R_Name}',${R_Phone},'${sex}','${demand}'\r\n            var obj={time,num,room,hall,name,phone,sex,demand,uid,M_Name,M_Distance};\r\n            if(num!==null && time!==null){\r\n                this.axios.get(\"/index/reserve\", {params:obj}).then(res=>{\r\n                    if(res.data.code==1){\r\n                        this.$messagebox(\"预订成功\").then(res=>{\r\n                            this.$router.push(\"/yuding\");\r\n                        })\r\n                    }else if(res.data.code==2){\r\n                        this.$messagebox(\"不可重复预订\").then(res=>{\r\n                            this.$router.push(\"/yuding\");\r\n                        })\r\n                    }\r\n                }).catch(err=>{\r\n                    console.log(err)\r\n                })\r\n            }else if(time==null){\r\n                this.$toast(\"请选择就餐时间\")\r\n            }else if(num==null){\r\n                this.$toast(\"请选择就餐人数\")\r\n            }\r\n        },\r\n        clickDay(){\r\n            \r\n        },\r\n        changeDate(){\r\n            \r\n        },\r\n        clickToday(){\r\n            \r\n        },\r\n        close(){\r\n            this.show=false;\r\n        },\r\n        closeCal(){\r\n            this.calshow=false;\r\n        },\r\n        sure(){\r\n            this.calshow=false;\r\n            var chosenDay=document.getElementsByClassName(\"wh_chose_day\")[0];\r\n            if(chosenDay!=null){\r\n                chosenDay=chosenDay.innerHTML;\r\n                var date=document.getElementsByClassName(\"wh_content_li\")[0].innerHTML;\r\n                var year=date.slice(0,4);\r\n                if(date.length==7){\r\n                    var day=date.slice(5,6);\r\n                }else if(date.length>7){\r\n                    var day=date.slice(5,7);\r\n                }\r\n                this.time=year+\"-\"+day+\"-\"+chosenDay;\r\n            }else{\r\n                this.time=\"请选择\"\r\n            }\r\n        },\r\n        confirm(){\r\n            var selected=document.getElementsByClassName(\"picker-selected\")[0];\r\n            var greySel=document.getElementsByClassName(\"greySel\")[0];\r\n            this.num=selected.innerHTML;\r\n            greySel.style.color=\"#000\";\r\n            this.show=false;\r\n        },\r\n        choose(){\r\n            this.show=true;\r\n            this.calshow=false;\r\n        },\r\n        chooseTime(){\r\n            this.calshow=true;\r\n            this.show=false;\r\n            // var today=document.querySelector(\".wh_content_item .wh_isToday[data-v-2ebcbc83]\");\r\n            // today.innerHTML=\"今\";\r\n\r\n        },\r\n        onValuesChange(picker,values){\r\n            if(values[0]>values[1]){\r\n                picker.setSlotValue(1, values[0]);\r\n            }\r\n        },\r\n        loadMore(){\r\n            this.$messagebox(\"温馨提示\",\"各位捞粉大家好，每日早上7:00-9:00是我们闭店打扫时间，擦亮桌椅迎接您的到来，期间无法为您提供用餐服务，感谢您的谅解与支持。\")\r\n            // 预定时间\r\n            var start=Date.parse(new Date());\r\n            start=start/1000;\r\n            start=start.toString();\r\n            var end=Date.parse(new Date());\r\n            var addtime=20*24*60*60*1000;\r\n            end=parseInt(end)+parseInt(addtime);\r\n            end=end/1000;\r\n            end=end.toString();\r\n            this.ago=start\r\n            this.future=end;\r\n            // getUser\r\n            var uid = sessionStorage.getItem(\"accessToken\");\r\n            var obj = { uid: uid };\r\n            var url='user/getUser2';\r\n            this.axios.get(url,{params:obj}).then(res=>{\r\n                if(res.data.code==1){\r\n                    this.list=res.data.data[0];\r\n                    console.log(this.list)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    created(){\r\n        this.loadMore();\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n    .mint-msgbox-message{\r\n        font-size: .22rem;\r\n        color:rgb(41, 41, 41)!important;\r\n        line-height: .32rem!important;\r\n        text-align: left!important;\r\n    }\r\n    .mint-msgbox-confirm{\r\n        color:#222!important;\r\n        font-size: .3rem;\r\n    }\r\n    .mint-msgbox{\r\n        width: 70%!important;\r\n        border-radius: .3rem!important;\r\n    }\r\n    .mint-msgbox-title{\r\n        font-size: .3rem!important;\r\n    }\r\n    .reserve{\r\n        background-color: #f7f7f7;\r\n        height: 100vh;\r\n        .top{\r\n            padding: .2rem .3rem;\r\n            font-size: .4rem;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            line-height: .6rem;\r\n            position: relative;\r\n            background-color: #fff;\r\n            img{\r\n                height: .4rem;\r\n                display: block;\r\n                margin-top:.1rem;\r\n            }\r\n            p{\r\n                position: absolute;\r\n                left:50%;\r\n                margin-left:-.5rem;\r\n            }\r\n        }\r\n        .banner{\r\n            width: 100%;\r\n            display: block;\r\n        }\r\n        .pull-up-enter-active.pull-up-enter-to,\r\n        .pull-up-leave-active.pull-up-leave-to {\r\n            transform: translateY(1);\r\n            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1) 0s;\r\n            -ms-transform-origin:center bottom; \r\n            transform-origin:center bottom; \r\n        }\r\n        .pull-up-enter,\r\n        .pull-up-leave-active{\r\n            -ms-transform: translateY(7rem);\r\n            transform: translateY(7rem);\r\n        }\r\n        .confirm-box{\r\n            height:43%;\r\n            position: fixed;\r\n            bottom: 12vh;\r\n            width: 100%;\r\n            overflow: hidden;\r\n            background-color: #fff;\r\n            z-index: 99;\r\n            box-shadow:0 -0.2rem 0.3rem 0 #d6d6d6;\r\n            .confirm{\r\n                font-size: .3rem;\r\n                color:#000;\r\n                display: flex;\r\n                justify-content: space-between;\r\n                padding:.4rem .5rem;\r\n                z-index: 100;\r\n                background-color: #fff;\r\n            }\r\n            .picker-items{\r\n                position: fixed;\r\n                bottom: 0;\r\n                width: 100%;\r\n                height: 45%;\r\n                box-sizing: border-box;\r\n                z-index: 3;\r\n                overflow: hidden;\r\n                background-color: #fff;\r\n            }\r\n            .picker-center-highlight:before, .picker-center-highlight:after{\r\n                background-color: transparent;\r\n            }\r\n            .picker-item{\r\n                font-size: .4rem;\r\n                // line-height: .4rem!important;\r\n            }\r\n            .picker-selected{\r\n                color:#000;\r\n                background-color:#ffe2cd;\r\n            }\r\n            .picker-slot.picker-slot-center.slot1{\r\n                z-index: 2;\r\n            }\r\n        }\r\n        .confirm{\r\n            background-color: #f7f7f7;\r\n             padding: 0 .3rem .2rem;\r\n            .select-box{\r\n                font-size: .25rem;\r\n                color:#000;\r\n                padding:.3rem .3rem 0;\r\n                background-color: #fff;\r\n                .select{\r\n                    border-bottom: 1px solid #f7f7f7;\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n                    padding-bottom:.3rem;\r\n                    img{\r\n                        height: .25rem;\r\n                        vertical-align: bottom;\r\n                        margin-left:.15rem;\r\n                    }\r\n                    .greySel{\r\n                        color:#a0a0a0;\r\n                    }\r\n                    .mint-switch-input:checked + .mint-switch-core{\r\n                        border-color:#f1d3dd;\r\n                        background-color: #fb3e7e;\r\n                    }\r\n                    .mint-switch{\r\n                        margin-right:.2rem;\r\n                    }\r\n                    .mint-switch-core{\r\n                        width: .5rem;\r\n                        height: .3rem;\r\n                    }\r\n                    .mint-switch-core::before{\r\n                        width: .4rem;\r\n                        height: .4rem;\r\n                        transform: translateX(.2rem) translateY(-.08rem);\r\n                        background-color: transparent;\r\n                    }\r\n                    .mint-switch-core::after{\r\n                        background-color: #ececec;\r\n                        width: .4rem;\r\n                        height: .4rem;\r\n                        transform: translateX(-0.1rem) translateY(-0.08rem);\r\n                    }\r\n                    .mint-switch-input:checked + .mint-switch-core::after{\r\n                        transform: translateX(.2rem) translateY(-.08rem);\r\n                    }\r\n                }\r\n            }\r\n            .mint-cell-wrapper{\r\n                width: 60%;\r\n                font-size: .25rem;\r\n                color:#000;\r\n            }\r\n            .mint-checkbox-input:checked + .mint-checkbox-core{\r\n                background-color: #fff;\r\n                border-color:#ff2626;\r\n            }\r\n            .mint-checkbox-input:checked + .mint-checkbox-core::after{\r\n                background-color: #e70216;\r\n                border-radius: 50%;\r\n                border: transparent;\r\n                width: .24rem;\r\n                height: .24rem;\r\n            }\r\n            .mint-checkbox-core{\r\n                width: .4rem;\r\n                height: .4rem;\r\n            }\r\n            .mint-checkbox-core::after{\r\n                top:0;\r\n                left:0;\r\n                margin-left:.08rem;\r\n                margin-top:.08rem;\r\n                border-radius: 50%;\r\n            }\r\n            .mint-cell{\r\n                background-color: transparent;\r\n                min-height: 0.4rem;\r\n            }\r\n            .mint-field .mint-cell-title{\r\n                margin-right: .2rem;\r\n            }\r\n            .mint-field-core{\r\n                width: auto;\r\n            }\r\n            .mint-cell:last-child{\r\n                background-image: none;\r\n            }\r\n            .mint-cell-wrapper{\r\n                background-image: none;\r\n            }\r\n            .verify-box{\r\n                padding: .3rem .3rem 0;\r\n                background-color:#fff;\r\n            }\r\n            .msgbox{\r\n                padding:0 .3rem;\r\n                font-size: .25rem;\r\n                background-color:#efefef;\r\n                text-align: left;\r\n                max-height: .75rem;\r\n                overflow: hidden;\r\n                .getMsg{\r\n                    -webkit-line-clamp:1;\r\n                    line-height: 3;\r\n                    text-overflow: ellipsis;\r\n                    overflow: hidden;\r\n                    -webkit-box-orient: vertical;\r\n                    white-space:nowrap;\r\n                }\r\n            }\r\n            .verify{\r\n                justify-content: space-between;\r\n                display: flex;\r\n                border-bottom: 1px solid #f7f7f7;\r\n                padding-bottom:.3rem;\r\n                text-align: left;\r\n                p{\r\n                    font-size: .25rem;\r\n                    color:#000;\r\n                }\r\n                img{\r\n                    height: .3rem;\r\n                }\r\n            }\r\n            .mint-radiolist-label,.mint-radiolist{\r\n                display: flex;\r\n                padding: 0;\r\n                flex-wrap: nowrap;\r\n            }\r\n            .mint-field .mint-cell-title{\r\n                width: 1rem;\r\n            }\r\n            .mint-radio-label{\r\n                margin-right:.1rem;\r\n                width: .6rem;\r\n                line-height: .35rem;\r\n                font-size: .25rem;\r\n            }\r\n            .mint-cell-wrapper{\r\n                overflow:initial;\r\n            }\r\n            .mint-radiolist-title{\r\n                margin: 0;\r\n            }\r\n            .mint-cell-wrapper{\r\n                padding: 0;\r\n            }\r\n            .mint-radio-core{\r\n                width: .35rem;\r\n                height: .35rem;\r\n            }\r\n            .mint-radio-core::after{\r\n                top:0;\r\n                left:0;\r\n                width: .3rem;\r\n                height: .3rem;\r\n                background-color: transparent;\r\n                background-image: url(\"http://127.0.0.1:5050/icon/chosen.png\");\r\n                background-repeat: no-repeat;\r\n                background-position:top;\r\n                background-size: contain; \r\n            }\r\n            .mint-radio-input:checked + .mint-radio-core{\r\n                background-color: #e70216;\r\n                border-color:#e70216;\r\n            }\r\n            .mintui-field-error:before{\r\n                content: \"\";\r\n            }\r\n            .mint-field-core{\r\n                color:#7b7b7b;\r\n            }\r\n        }\r\n        .submit{\r\n            font-size: .2rem;\r\n            padding:.3rem;\r\n            background-color: #fff;\r\n            p{\r\n                margin-top:1rem\r\n            }\r\n            button{\r\n                border: 0;\r\n                width: 100%;\r\n                font-size: .3rem;\r\n                color:#fff;\r\n                line-height: 2.2;\r\n                background-color: #e70216;\r\n                border-radius: .6rem;\r\n                margin-top:.3rem;\r\n                letter-spacing: .04rem;\r\n                outline: 0;\r\n            }\r\n        }\r\n        .calbox{\r\n            position: fixed;\r\n            bottom: 0;\r\n            background-color: #fff;\r\n            padding:0 .3rem;\r\n            height:55%!important;\r\n            box-shadow:0 -0.2rem 0.3rem 0 #d6d6d6;\r\n        }\r\n        .confirmCal{\r\n            font-size: .3rem;\r\n            color:#000;\r\n            background-color: #fff;\r\n            padding: .3rem;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            span:first-child{\r\n                color:#b1b1b1;\r\n            }\r\n            span:last-child{\r\n                color:#e70216;\r\n            }\r\n        }\r\n        .calendar{\r\n            .wh_content_item[data-v-2ebcbc83], wh_content_item_tag[data-v-2ebcbc83],.wh_top_changge li[data-v-2ebcbc83]{\r\n                color:#000\r\n            }\r\n            .wh_jiantou2[data-v-2ebcbc83]{\r\n                border-top:2px solid #e70216;\r\n                border-right:2px solid #e70216;\r\n            }\r\n            .wh_jiantou1[data-v-2ebcbc83]{\r\n                border-top:2px solid #b1b1b1;\r\n                border-left:2px solid #b1b1b1;\r\n            }\r\n            .wh_content_all[data-v-2ebcbc83]{\r\n                background-color: #fff;\r\n            }\r\n            .wh_content_item .wh_isToday[data-v-2ebcbc83]{\r\n                background-color: transparent;\r\n            }\r\n            .wh_content_item .wh_chose_day[data-v-2ebcbc83]{\r\n                background: #e70216;\r\n                border-radius:.1rem;\r\n                color:#fff;\r\n            }\r\n            .wh_item_date[data-v-2ebcbc83], .wh_top_tag[data-v-2ebcbc83]{\r\n                width: 0.8rem;\r\n                height: .4rem;\r\n            }\r\n\r\n        }\r\n    }\r\n    .reserve .calendar{\r\n        max-width: 100%!important;\r\n        background: #fff!important;\r\n    }\r\n</style>"],"sourceRoot":"src/components/Index/index02"}]}