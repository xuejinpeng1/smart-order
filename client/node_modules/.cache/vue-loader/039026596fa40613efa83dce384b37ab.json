{"remainingRequest":"C:\\Users\\web\\Desktop\\huoguo\\team-work\\team work\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\huoguo\\team-work\\team work\\client\\src\\components\\menu\\menu.vue?vue&type=style&index=0&id=203606a2&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\huoguo\\team-work\\team work\\client\\src\\components\\menu\\menu.vue","mtime":1569573444081},{"path":"C:\\Users\\web\\Desktop\\huoguo\\team-work\\team work\\client\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\huoguo\\team-work\\team work\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\huoguo\\team-work\\team work\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\huoguo\\team-work\\team work\\client\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\huoguo\\team-work\\team work\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\huoguo\\team-work\\team work\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\ndiv.menu {\r\n  div.jiade {\r\n    float: left;\r\n    width: 20%;\r\n    height: 1rem;\r\n  }\r\n  box-sizing: border-box;\r\n  div.left {\r\n    width: 20%;\r\n    position: fixed;\r\n\r\n    ul li {\r\n      padding-top: 0.5rem;\r\n      height: 0.5rem;\r\n      width: 100%;\r\n      background: #f3f1f4;\r\n      // border-bottom: 1px solid #bbb;\r\n      // border-right: 1px solid #bbb;\r\n      font-size: 0.3rem;\r\n    }\r\n  }\r\n  div.right {\r\n    div.fenlei {\r\n      padding: 0.2rem 0 0.2rem 0.2rem;\r\n      font-size: 0.3rem;\r\n      // background:#868586;\r\n      font-weight: bold;\r\n    }\r\n    div.food {\r\n      display: inline-block;\r\n      p {\r\n        font-size: 0.3rem;\r\n      }\r\n      p.mPrice {\r\n        margin-top: 0.5rem;\r\n        color: #fb3b2a;\r\n        font-weight: 700;\r\n        i {\r\n          font-style: normal;\r\n          font-size: 0.2rem;\r\n          margin-right: -0.1rem;\r\n        }\r\n      }\r\n      p.mTitle {\r\n        margin-top: 0.3rem;\r\n      }\r\n    }\r\n    text-align: left;\r\n    float: left;\r\n    width: 80%;\r\n    div.count {\r\n      display: inline-block;\r\n      text-align: center;\r\n      position: absolute;\r\n      bottom: 0.2rem;\r\n      right: 0.2rem;\r\n      span {\r\n        display: inline-block;\r\n        width: 0.5rem;\r\n        font-size: 0.35rem;\r\n        position: relative;\r\n        top: -0.05rem;\r\n      }\r\n      a.add {\r\n        display: inline-block;\r\n        height: 0.35rem;\r\n        width: 0.35rem;\r\n        border-radius: 50%;\r\n        background-image: url(http://127.1:5050/icon/plus.png);\r\n        background-size: contain;\r\n        background-position: bottom;\r\n        background-repeat: no-repeat;\r\n      }\r\n      a.cut {\r\n        display: inline-block;\r\n        height: 0.35rem;\r\n        width: 0.35rem;\r\n        border-radius: 50%;\r\n        background-image: url(http://127.1:5050/icon/reduce.png);\r\n        background-size: contain;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n      }\r\n    }\r\n    img {\r\n      width: 1.5rem;\r\n      vertical-align: top;\r\n      margin: 0.2rem 0.2rem 0 0.2rem;\r\n    }\r\n  }\r\n}\r\n\r\n.guilei {\r\n  position: relative;\r\n}\r\n.faker {\r\n  height: 1rem;\r\n  width: 100%;\r\n}\r\n\r\n.shopcart {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 1rem;\r\n  position: fixed;\r\n  z-index: 10;\r\n  bottom: 0;\r\n  background-color: #555;\r\n  button {\r\n    position: absolute;\r\n    bottom: 0rem;\r\n    right: 0rem;\r\n    height: 1rem;\r\n    width: 2rem;\r\n    background-color: #1798dc;\r\n    font-size: 0.3rem; // \"选好啦\"字体大小\r\n    color: #fff;\r\n    font-weight: bold;\r\n    z-index: 10;\r\n  }\r\n}\r\n.shopcart > span {\r\n  //XX元起送\r\n  position: absolute;\r\n  bottom: 0rem;\r\n  right: 0.2rem;\r\n  font-size: 0.4rem;\r\n  color: #fff;\r\n  line-height: 1rem;\r\n  z-index: 5;\r\n}\r\n.shopcart > .shopcart_img {\r\n  //购物车图片\r\n  position: relative;\r\n  text-align: center;\r\n  line-height: 0.8rem;\r\n  height: 0.8rem;\r\n  width: 0.8rem;\r\n  border-radius: 50%;\r\n  border: 0.1rem solid black;\r\n  img {\r\n    height: 80%;\r\n  }\r\n  div {\r\n    line-height: 0.35rem;\r\n    font-size: 0.1rem;\r\n    color: #fff;\r\n    width: 0.35rem;\r\n    height: 0.35rem;\r\n    border-radius: 50%;\r\n    border: 0.01rem solid #fff;\r\n    background-color: #fb3b2a;\r\n    position: absolute;\r\n    right: -0.15rem;\r\n    top: -0.15rem;\r\n  }\r\n  .totalprice {\r\n    color: #fff;\r\n    font-size: 0.5rem;\r\n    position: absolute;\r\n    top: 0rem;\r\n    left: 1rem;\r\n  }\r\n}\r\n\r\n.shopcartcontent {\r\n  //存放已点的食物\r\n  height: 3rem;\r\n  width: 100%;\r\n  overflow-y: auto;\r\n  position: fixed;\r\n  bottom: 1rem;\r\n  background-color: #fff;\r\n}\r\n.shopcartcontent > div {\r\n  position: relative;\r\n  height: 0.5rem;\r\n  background-color: #fdc09d;\r\n  line-height: 0.3rem;\r\n  font-size: 0.3rem;\r\n\r\n  span {\r\n    position: absolute;\r\n    left: 0.2rem;\r\n    top: 0.1rem;\r\n  }\r\n  a {\r\n    font-size: 0.28rem;\r\n    position: absolute;\r\n    right: 0.2rem;\r\n    top: 0.1rem;\r\n  }\r\n}\r\n.shopcartcontent > div:nth-child(1) {\r\n  z-index: 10;\r\n  position: fixed;\r\n  height: 0rem;\r\n  height: 0.5rem;\r\n  width: 100%;\r\n  background-color: #fdc09d;\r\n  line-height: 0.3rem;\r\n  font-size: 0.3rem;\r\n}\r\n\r\n.shopcartcontent > ul > li > div {\r\n  height: 0.6rem;\r\n  position: relative;\r\n  font-size: 0.3rem;\r\n  span:nth-child(1) {\r\n    //食物名字\r\n    position: absolute;\r\n    left: 0.2rem;\r\n    top: 0.2rem;\r\n  }\r\n  span:nth-child(2) {\r\n    //食物总价\r\n    position: absolute;\r\n    left: 3.5rem;\r\n    top: 0.2rem;\r\n  }\r\n  a:nth-child(3) {\r\n    //\"-\"\r\n    position: absolute;\r\n    right: 1rem;\r\n    top: 0.2rem;\r\n  }\r\n  span:nth-child(4) {\r\n    //食物数量\r\n    position: absolute;\r\n    right: 0.6rem;\r\n    top: 0.23rem;\r\n  }\r\n  a:nth-child(5) {\r\n    //\"+\"\r\n    position: absolute;\r\n    right: 0.2rem;\r\n    top: 0.2rem;\r\n  }\r\n  a.cut {\r\n    display: inline-block;\r\n    height: 0.35rem;\r\n    width: 0.35rem;\r\n    border-radius: 50%;\r\n    background-image: url(http://127.1:5050/icon/reduce.png);\r\n    background-size: contain;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n  }\r\n  a.add {\r\n    display: inline-block;\r\n    height: 0.35rem;\r\n    width: 0.35rem;\r\n    border-radius: 50%;\r\n    background-image: url(http://127.1:5050/icon/plus.png);\r\n    background-size: contain;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n  }\r\n}\r\n",{"version":3,"sources":["menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"menu.vue","sourceRoot":"src/components/menu","sourcesContent":["<!--menu.vue 菜单组件-->\r\n<template>\r\n  <div class=\"menu\">\r\n    <div class=\"left\">\r\n      <ul>\r\n        <li v-for=\"(item, i) in foodType\" :key=\"i\" @click=\"jump(i)\" :style=\"`background-color:${item.bgcolor}`\">{{item.FT_Name}}\r\n          <span style=\"display:none\">{{now}}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"jiade\"></div>\r\n    <!-- 左侧空div撑开 -->\r\n    <div class=\"right\">\r\n      <!-- 右侧菜品 -->\r\n      <div v-for=\"(item,index) in foodType\" :key=\"index\">\r\n        <div class=\"fenlei\" :id=\"`FT${item.FT_ID}`\">{{item.FT_Name}}</div>\r\n        <div v-for=\"(food,index) in foodData\" :key=\"index\" class=\"guilei\">\r\n          <img v-if=\"food.F_FTID==item.FT_ID\" :src=\"`http://127.0.0.1:5050/menu${food.F_Url}`\" alt>\r\n          <div v-if=\"food.F_FTID==item.FT_ID\" class=\"food\">\r\n            <p class=\"mTitle\">{{food.F_Name}}</p>\r\n            <p class=\"mPrice\">\r\n              <i>￥</i>\r\n              {{food.F_Price}}\r\n            </p>\r\n          </div>\r\n          <div v-if=\"food.F_FTID==item.FT_ID\" class=\"count\">\r\n            <a class=\"cut\" @click=\"cuts(food.F_ID)\"></a>\r\n            <span>{{food.num}}</span>\r\n            <a class=\"add\" @click=\"add(food.F_ID)\"></a>\r\n            <span style=\"display:none;\">{{count}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"faker\"></div>\r\n      <!-- 用于顶起被底部购物车遮住的部分 -->\r\n    </div>\r\n\r\n    <div class=\"shopcartcontent\" v-if=\"count!=0 && cartDisplay!=0\">\r\n      <!-- 购物车里面食物的内容 -->\r\n      <div>\r\n        <span>购物车</span>\r\n        <a @click=\"clearCart\">清空购物车</a>\r\n      </div>\r\n      <div></div>\r\n      <ul>\r\n        <li v-for=\"(food,index) in foodData\" :key=\"index\">\r\n          <div v-if=\"food.num!=0\">\r\n            <span>{{food.F_Name}}</span>\r\n            <span>￥{{food.F_Price*food.num}}</span>\r\n            <a class=\"cut\" @click=\"cuts(food.F_ID)\"></a>\r\n            <span>{{food.num}}</span>\r\n            <a class=\"add\" @click=\"add(food.F_ID)\"></a>\r\n            <span style=\"display:none;\">{{count}}</span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"shopcart\">\r\n      <!-- 底部购物车 -->\r\n      <div\r\n        class=\"shopcart_img\"\r\n        :style=\"`background-color:${shopcart_imgbgcolor}`\"\r\n        @click=\"showCart\"\r\n      >\r\n        <img src=\"http://127.0.0.1:5050/icon/shopcart_icon.png\">\r\n        <div :style=\"`display:${shopcart_countdisplay}`\">{{count}}</div>\r\n        <!-- 右上食物计数 -->\r\n        <span class=\"totalprice\">￥{{totalPrice}}</span>\r\n      </div>\r\n      <button v-if=\"totalPrice>=sendPrice\" @click=\"toOrder\">选好啦</button>\r\n      <span v-if=\"totalPrice<sendPrice\">￥{{sendPrice}}起</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      foodType: [], //FT_ID食物类型ID,FT_Name食物类型名字\r\n      foodData: [], //F_ID食物编号,F_FTID店家编号,F_Name食物名字,F_Url食物图片地址,F_Price价格,num点了多少个\r\n      count: 0, //嗯，当成一共点了多少个食物好了，完美\r\n      shopcart_imgbgcolor: \"#555\", //控制购物车背景变色\r\n      shopcart_countdisplay: \"none\", //控制右上红色数字到0的时候不显示\r\n      cartDisplay: 0, //判断购物车是否展开\r\n      totalPrice: 0, //食物的总价\r\n      sendPrice: 400, //先来个起送价400\r\n      now:0,//辅助修改颜色\r\n\r\n      //{ M_ID(店家ID),D_ID(桌子ID),foodData:[{F_ID(F_ID食物编号),F_Price(F_Price价格),num(num点了多少个)},{},{},...] }\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    loadMenu() {\r\n      // var M_ID=this.$route.query.M_ID; 拿到店面ID\r\n      var M_ID = 1;\r\n      // var D_ID=this.$route.query.D_ID; 拿到桌子ID\r\n      // var D_ID=1;\r\n\r\n      var url = \"/menu\"; //获取左边所有菜品类名\r\n      this.axios.get(url, { params: { M_ID: M_ID } }).then(res => {\r\n        if (res.data.code == 1) {\r\n          this.foodType = res.data.data;\r\n          for (var i = 0; i < this.foodType.length; i++) {\r\n            this.foodType[i].bgcolor = \"\";//增加一个属性用于修改滚动条到了之后的颜色\r\n          }\r\n        }\r\n      });\r\n\r\n      var url2 = \"/menu/food\"; //获取所有食物\r\n      this.axios.get(url2, { params: { M_ID: M_ID } }).then(res => {\r\n        if (res.data.code == 1) {\r\n          this.foodData = res.data.data;\r\n          // console.log(this.foodData);\r\n          for (var i = 0; i < this.foodData.length; i++) {\r\n            this.foodData[i].num = 0;//增加一个属性用于计数\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 数量--\r\n    cuts: function(n) {\r\n      if (this.foodData[n - 1].num < 1) return;\r\n      this.count--;\r\n      console.log(this.count);\r\n      this.foodData[n - 1].num--; //对应食物数量减少 数组下标是(n-1)\r\n      if (this.count == 0) {\r\n        //减到0之后，失去高光(灰色)和count\r\n        this.shopcart_imgbgcolor = \"#555\";\r\n        this.shopcart_countdisplay = \"none\";\r\n      }\r\n      this.totalPrice -= this.foodData[n - 1].F_Price; //总价减少\r\n    },\r\n    //数量++\r\n    add: function(n) {\r\n      this.count++;\r\n      console.log(this.count);\r\n      this.foodData[n - 1].num++; //对应食物数量增加 数组下标是(n-1)\r\n      this.shopcart_imgbgcolor = \"#1798dc\"; //增加后绝对大于0，不加判断了\r\n      this.shopcart_countdisplay = \"\"; //同上一行\r\n      this.totalPrice += this.foodData[n - 1].F_Price; //总价增加\r\n    },\r\n\r\n    //清空购物车\r\n    clearCart() {\r\n      this.$messagebox.confirm(\"确认清空吗？\").then(action => {\r\n        for (var i = 0; i < this.foodData.length; i++) {\r\n          this.foodData[i].num = 0;\r\n          this.totalPrice = 0; //总价清零\r\n          this.shopcart_imgbgcolor = \"#555\"; //控制购物车背景变色\r\n          this.shopcart_countdisplay = \"none\"; //控制右上红色数字到0的时候不显示\r\n          this.cartDisplay = 0;//重置是否展开状态\r\n        }\r\n        this.count = 0;\r\n      });\r\n    },\r\n    //展开或关闭购物车\r\n    showCart() {\r\n      if (this.cartDisplay == 0) {\r\n        this.cartDisplay = 1;\r\n      } else {\r\n        this.cartDisplay = 0;\r\n      }\r\n    },\r\n\r\n    jump(index) {\r\n      // 用 class=\"d_jump\" 添加锚点\r\n      let jump = document.querySelectorAll(\".fenlei\");\r\n      let total = jump[index].offsetTop;\r\n      let distance = document.documentElement.scrollTop || document.body.scrollTop;\r\n      // 平滑滚动，时长500ms，每10ms一跳，共10跳\r\n      let step = total / 10;//10跳\r\n      if (total > distance) {\r\n        smoothDown();\r\n      } else {\r\n        let newTotal = distance - total;\r\n        step = newTotal / 10;//上升速度\r\n        smoothUp();\r\n      }\r\n      function smoothDown() {\r\n        if (distance < total) {\r\n          distance += step;\r\n          document.body.scrollTop = distance;\r\n          document.documentElement.scrollTop = distance;\r\n          setTimeout(smoothDown, 10);\r\n        } else {\r\n          document.body.scrollTop = total;\r\n          document.documentElement.scrollTop = total;\r\n        }\r\n      }\r\n      function smoothUp() {\r\n        if (distance > total) {\r\n          distance -= step;\r\n          document.body.scrollTop = distance;\r\n          document.documentElement.scrollTop = distance;\r\n          setTimeout(smoothUp, 10);\r\n        } else {\r\n          document.body.scrollTop = total;\r\n          document.documentElement.scrollTop = total;\r\n        }\r\n      }\r\n    },\r\n\r\n    //监听滚动条\r\n    onScroll() {\r\n      //滚动条现在的高度\r\n      let scrolled =\r\n        document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\r\n        let jump = document.querySelectorAll(\".fenlei\");\r\n        //jump[index].offsetTop;这个是高度\r\n        //用于重置颜色\r\n        for(var i=0;i<this.foodType.length;i++){\r\n          this.foodType[i].bgcolor=\"\";\r\n        }\r\n        for(var index=0;index<jump.length-1;index++){\r\n          if(jump[index].offsetTop<scrolled&&scrolled<jump[index+1].offsetTop){\r\n            this.foodType[index].bgcolor=\"#fff\";//变成该颜色(白)\r\n            this.now++;//辅助修改颜色(无意义)\r\n          }\r\n        }\r\n      // if (scrolled >= 1063) {\r\n      //   this.steps.active = 2;\r\n      // } else if (scrolled < 1063 && scrolled >= 586) {\r\n      //   this.steps.active = 1;\r\n      // } else {\r\n      //   this.steps.active = 0;\r\n      // }\r\n    },\r\n    //选好后去订单页面\r\n    toOrder(){\r\n      //{ M_ID(店家ID),D_ID(桌子ID),foodData:[{F_ID(F_ID食物编号),F_Price(F_Price价格),num(num点了多少个)},{},{},...] }需要传输的数据\r\n      var potCount=0;\r\n\r\n      for(var i=0;i<this.foodData.length;i++){//遍历计数锅的个数\r\n        if(this.foodData[i].F_FTID==1||this.foodData[i].F_FTID==2||this.foodData[i].F_FTID==3){\r\n          potCount+=this.foodData[i].num;\r\n        }\r\n      }\r\n      //根据锅的数量判断\r\n      if(potCount>1){\r\n        this.$toast({message:\"一单只限一个锅。\"});\r\n      }\r\n      if(potCount<1){\r\n        this.$toast({message:\"请至少点一个锅。\"});\r\n      }\r\n      if(potCount==1){\r\n        var foodData=[];\r\n        for(var i=0;i<this.foodData.length;i++){\r\n          if(this.foodData[i].num==0){continue;}\r\n          var example={F_ID:this.foodData[i].F_ID,F_Price:this.foodData[i].F_Price,num:this.foodData[i].num}\r\n          foodData.push(example);\r\n        }\r\n        this.$router.push({ path: '/waisong' ,query: {M_ID: 1,D_ID:1,foodData,count:this.count,totalPrice:this.totalPrice}});\r\n                                               //this.$route.query.M_ID,this.$route.query.D_ID\r\n        console.log(foodData);\r\n      }\r\n\r\n    }\r\n  },\r\n  created() {\r\n    this.loadMenu();\r\n  },\r\n  mounted() {\r\n    this.$nextTick(function() {\r\n      window.addEventListener(\"scroll\", this.onScroll);\r\n    });\r\n  },\r\n  \r\n\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\ndiv.menu {\r\n  div.jiade {\r\n    float: left;\r\n    width: 20%;\r\n    height: 1rem;\r\n  }\r\n  box-sizing: border-box;\r\n  div.left {\r\n    width: 20%;\r\n    position: fixed;\r\n\r\n    ul li {\r\n      padding-top: 0.5rem;\r\n      height: 0.5rem;\r\n      width: 100%;\r\n      background: #f3f1f4;\r\n      // border-bottom: 1px solid #bbb;\r\n      // border-right: 1px solid #bbb;\r\n      font-size: 0.3rem;\r\n    }\r\n  }\r\n  div.right {\r\n    div.fenlei {\r\n      padding: 0.2rem 0 0.2rem 0.2rem;\r\n      font-size: 0.3rem;\r\n      // background:#868586;\r\n      font-weight: bold;\r\n    }\r\n    div.food {\r\n      display: inline-block;\r\n      p {\r\n        font-size: 0.3rem;\r\n      }\r\n      p.mPrice {\r\n        margin-top: 0.5rem;\r\n        color: #fb3b2a;\r\n        font-weight: 700;\r\n        i {\r\n          font-style: normal;\r\n          font-size: 0.2rem;\r\n          margin-right: -0.1rem;\r\n        }\r\n      }\r\n      p.mTitle {\r\n        margin-top: 0.3rem;\r\n      }\r\n    }\r\n    text-align: left;\r\n    float: left;\r\n    width: 80%;\r\n    div.count {\r\n      display: inline-block;\r\n      text-align: center;\r\n      position: absolute;\r\n      bottom: 0.2rem;\r\n      right: 0.2rem;\r\n      span {\r\n        display: inline-block;\r\n        width: 0.5rem;\r\n        font-size: 0.35rem;\r\n        position: relative;\r\n        top: -0.05rem;\r\n      }\r\n      a.add {\r\n        display: inline-block;\r\n        height: 0.35rem;\r\n        width: 0.35rem;\r\n        border-radius: 50%;\r\n        background-image: url(http://127.1:5050/icon/plus.png);\r\n        background-size: contain;\r\n        background-position: bottom;\r\n        background-repeat: no-repeat;\r\n      }\r\n      a.cut {\r\n        display: inline-block;\r\n        height: 0.35rem;\r\n        width: 0.35rem;\r\n        border-radius: 50%;\r\n        background-image: url(http://127.1:5050/icon/reduce.png);\r\n        background-size: contain;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n      }\r\n    }\r\n    img {\r\n      width: 1.5rem;\r\n      vertical-align: top;\r\n      margin: 0.2rem 0.2rem 0 0.2rem;\r\n    }\r\n  }\r\n}\r\n\r\n.guilei {\r\n  position: relative;\r\n}\r\n.faker {\r\n  height: 1rem;\r\n  width: 100%;\r\n}\r\n\r\n.shopcart {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 1rem;\r\n  position: fixed;\r\n  z-index: 10;\r\n  bottom: 0;\r\n  background-color: #555;\r\n  button {\r\n    position: absolute;\r\n    bottom: 0rem;\r\n    right: 0rem;\r\n    height: 1rem;\r\n    width: 2rem;\r\n    background-color: #1798dc;\r\n    font-size: 0.3rem; // \"选好啦\"字体大小\r\n    color: #fff;\r\n    font-weight: bold;\r\n    z-index: 10;\r\n  }\r\n}\r\n.shopcart > span {\r\n  //XX元起送\r\n  position: absolute;\r\n  bottom: 0rem;\r\n  right: 0.2rem;\r\n  font-size: 0.4rem;\r\n  color: #fff;\r\n  line-height: 1rem;\r\n  z-index: 5;\r\n}\r\n.shopcart > .shopcart_img {\r\n  //购物车图片\r\n  position: relative;\r\n  text-align: center;\r\n  line-height: 0.8rem;\r\n  height: 0.8rem;\r\n  width: 0.8rem;\r\n  border-radius: 50%;\r\n  border: 0.1rem solid black;\r\n  img {\r\n    height: 80%;\r\n  }\r\n  div {\r\n    line-height: 0.35rem;\r\n    font-size: 0.1rem;\r\n    color: #fff;\r\n    width: 0.35rem;\r\n    height: 0.35rem;\r\n    border-radius: 50%;\r\n    border: 0.01rem solid #fff;\r\n    background-color: #fb3b2a;\r\n    position: absolute;\r\n    right: -0.15rem;\r\n    top: -0.15rem;\r\n  }\r\n  .totalprice {\r\n    color: #fff;\r\n    font-size: 0.5rem;\r\n    position: absolute;\r\n    top: 0rem;\r\n    left: 1rem;\r\n  }\r\n}\r\n\r\n.shopcartcontent {\r\n  //存放已点的食物\r\n  height: 3rem;\r\n  width: 100%;\r\n  overflow-y: auto;\r\n  position: fixed;\r\n  bottom: 1rem;\r\n  background-color: #fff;\r\n}\r\n.shopcartcontent > div {\r\n  position: relative;\r\n  height: 0.5rem;\r\n  background-color: #fdc09d;\r\n  line-height: 0.3rem;\r\n  font-size: 0.3rem;\r\n\r\n  span {\r\n    position: absolute;\r\n    left: 0.2rem;\r\n    top: 0.1rem;\r\n  }\r\n  a {\r\n    font-size: 0.28rem;\r\n    position: absolute;\r\n    right: 0.2rem;\r\n    top: 0.1rem;\r\n  }\r\n}\r\n.shopcartcontent > div:nth-child(1) {\r\n  z-index: 10;\r\n  position: fixed;\r\n  height: 0rem;\r\n  height: 0.5rem;\r\n  width: 100%;\r\n  background-color: #fdc09d;\r\n  line-height: 0.3rem;\r\n  font-size: 0.3rem;\r\n}\r\n\r\n.shopcartcontent > ul > li > div {\r\n  height: 0.6rem;\r\n  position: relative;\r\n  font-size: 0.3rem;\r\n  span:nth-child(1) {\r\n    //食物名字\r\n    position: absolute;\r\n    left: 0.2rem;\r\n    top: 0.2rem;\r\n  }\r\n  span:nth-child(2) {\r\n    //食物总价\r\n    position: absolute;\r\n    left: 3.5rem;\r\n    top: 0.2rem;\r\n  }\r\n  a:nth-child(3) {\r\n    //\"-\"\r\n    position: absolute;\r\n    right: 1rem;\r\n    top: 0.2rem;\r\n  }\r\n  span:nth-child(4) {\r\n    //食物数量\r\n    position: absolute;\r\n    right: 0.6rem;\r\n    top: 0.23rem;\r\n  }\r\n  a:nth-child(5) {\r\n    //\"+\"\r\n    position: absolute;\r\n    right: 0.2rem;\r\n    top: 0.2rem;\r\n  }\r\n  a.cut {\r\n    display: inline-block;\r\n    height: 0.35rem;\r\n    width: 0.35rem;\r\n    border-radius: 50%;\r\n    background-image: url(http://127.1:5050/icon/reduce.png);\r\n    background-size: contain;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n  }\r\n  a.add {\r\n    display: inline-block;\r\n    height: 0.35rem;\r\n    width: 0.35rem;\r\n    border-radius: 50%;\r\n    background-image: url(http://127.1:5050/icon/plus.png);\r\n    background-size: contain;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n  }\r\n}\r\n</style>\r\n"]}]}